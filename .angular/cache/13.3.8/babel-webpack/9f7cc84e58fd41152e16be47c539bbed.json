{"ast":null,"code":"import _asyncToGenerator from \"/Users/david.adams/Checkouts/angular-sample-standalone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/todo.service\";\n\nfunction TodosComponent_ng_template_16_app_todo_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-todo\", 27);\n    i0.ɵɵlistener(\"completed\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_completed_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const todo_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.complete(todo_r9);\n    })(\"edit\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_edit_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const todo_r9 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.setEditTodo(todo_r9);\n    })(\"delete\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_delete_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const todo_r9 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.setDeleteTodo(todo_r9);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const todo_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"todo\", todo_r9);\n  }\n}\n\nfunction TodosComponent_ng_template_16_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 28);\n    i0.ɵɵlistener(\"ngSubmit\", function TodosComponent_ng_template_16_form_8_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.update(ctx_r14.editTodo);\n    });\n    i0.ɵɵelementStart(1, \"div\", 6)(2, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function TodosComponent_ng_template_16_form_8_Template_input_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.editTodo.title = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 30);\n    i0.ɵɵtext(4, \"Update todo text\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"defaultValue\", ctx_r6.editTodo.title)(\"ngModel\", ctx_r6.editTodo.title);\n  }\n}\n\nfunction TodosComponent_ng_template_16_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"button\", 32);\n    i0.ɵɵtext(2, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function TodosComponent_ng_template_16_div_9_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.update(ctx_r17.editTodo);\n    });\n    i0.ɵɵtext(4, \" Update Todo \");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction TodosComponent_ng_template_16_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function TodosComponent_ng_template_16_button_19_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.delete(ctx_r19.deleteTodo);\n    });\n    i0.ɵɵtext(1, \" Delete Todo \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction TodosComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 13);\n    i0.ɵɵtemplate(1, TodosComponent_ng_template_16_app_todo_1_Template, 1, 1, \"app-todo\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 15)(3, \"div\", 16)(4, \"div\", 17)(5, \"div\", 18)(6, \"h4\", 19);\n    i0.ɵɵtext(7, \"Edit Todo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, TodosComponent_ng_template_16_form_8_Template, 5, 2, \"form\", 20);\n    i0.ɵɵtemplate(9, TodosComponent_ng_template_16_div_9_Template, 5, 0, \"div\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 22)(11, \"div\", 16)(12, \"div\", 17)(13, \"div\", 23)(14, \"p\");\n    i0.ɵɵtext(15, \"Are you sure you want to delete this todo?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 24)(17, \"button\", 25);\n    i0.ɵɵtext(18, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, TodosComponent_ng_template_16_button_19_Template, 2, 0, \"button\", 26);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.todos);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editTodo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editTodo);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.deleteTodo);\n  }\n}\n\nfunction TodosComponent_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 35)(1, \"li\", 36)(2, \"div\", 37)(3, \"p\", 38);\n    i0.ɵɵtext(4, \" No todos yet. Create one above! \");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n/**\n * Used to display a page to list Todos and allow the user to interact with them\n */\n\n\nexport class TodosComponent {\n  /**\n   * Initialise with the shared Todo service\n   * @param todoService - The shared Todo service\n   */\n  constructor(todoService) {\n    this.todoService = todoService;\n    /**\n     * The existing Todos\n     */\n\n    this.todos = [];\n    /**\n     * A new, empty Todo to be filled in by the user and submitted\n     */\n\n    this.newTodo = {\n      _id: '',\n      title: '',\n      completed: false\n    };\n  }\n  /**\n   * Retrieve Todos on load\n   */\n\n\n  ngOnInit() {\n    this.getTodos();\n  }\n  /**\n   * Marks a given Todo to be edited using a modal\n   * @param todo - The Todo to be edited\n   */\n\n\n  setEditTodo(todo) {\n    this.editTodo = todo;\n  }\n  /**\n   * Marks a given Todo to be confirmed for deletion using a modal\n   * @param todo - The Todo to be deleted\n   */\n\n\n  setDeleteTodo(todo) {\n    this.deleteTodo = todo;\n  }\n  /**\n   * Reset all Todos and edits/deletes on the page\n   */\n\n\n  resetTodos() {\n    this.editTodo = undefined;\n    this.deleteTodo = undefined;\n    this.newTodo = {\n      _id: '',\n      title: '',\n      completed: false\n    };\n    this.getTodos();\n  }\n  /**\n   * Retrieve Todos\n   */\n\n\n  getTodos() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const todos = yield _this.todoService.getTodos();\n        const json = yield todos.json();\n        _this.todos = json;\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  /**\n   * Submit a Todo to be created on the backend\n   * @param todo - The Todo to be submitted for creation\n   */\n\n\n  create(todo) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.todoService.createTodo(todo);\n\n        _this2.resetTodos();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  /**\n   * Submit a Todo to be marked as complete on the backend\n   * @param todo - The Todo to be submitted as complete\n   */\n\n\n  complete(todo) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this3.todoService.completeTodo(todo);\n\n        _this3.resetTodos();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  /**\n   * Submit a Todo to be updated\n   * @param todo - The updated Todo to be submitted\n   */\n\n\n  update(todo) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this4.todoService.updateTodo(todo);\n\n        _this4.resetTodos();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  /**\n   * Submit a Todo to be deleted on the backend\n   * @param todo - The Todo to be submitted for deletion\n   */\n\n\n  delete(todo) {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this5.todoService.deleteTodo(todo);\n\n        _this5.resetTodos();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n\n}\n\nTodosComponent.ɵfac = function TodosComponent_Factory(t) {\n  return new (t || TodosComponent)(i0.ɵɵdirectiveInject(i1.TodoService));\n};\n\nTodosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodosComponent,\n  selectors: [[\"app-todos\"]],\n  decls: 21,\n  vars: 2,\n  consts: [[1, \"cstm_container\", \"container-fluid\"], [1, \"mt-5\"], [1, \"fs-6\", \"text-muted\"], [1, \"card\", \"shadow-sm\", \"mb-5\"], [\"ngNativeValidate\", \"\", 1, \"p-3\", \"d-flex\", 3, \"ngSubmit\"], [\"newTodoForm\", \"ngForm\"], [1, \"cstm_todos-input\", \"cstm_form-floating\", \"form-floating\", \"flex-grow-1\"], [\"id\", \"newTodo\", \"type\", \"text\", \"placeholder\", \"What needs doing?\", \"required\", \"\", \"name\", \"title\", 1, \"cstm_form-control\", \"form-control\", \"bg-transparent\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newTodo\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"ms-2\"], [3, \"ngTemplateOutlet\"], [\"todolist\", \"\"], [\"empty\", \"\"], [1, \"list-group\", \"list-group-flush\"], [3, \"todo\", \"completed\", \"edit\", \"delete\", 4, \"ngFor\", \"ngForOf\"], [\"data-bs-backdrop\", \"static\", \"id\", \"editModal\", \"tabIndex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"class\", \"modal-body\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"modal-footer\", 4, \"ngIf\"], [\"data-bs-backdrop\", \"static\", \"id\", \"deleteModal\", \"tabIndex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-body\", \"pt-4\", \"px-4\"], [1, \"modal-footer\", \"p-3\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", \"class\", \"btn btn-danger\", 3, \"click\", 4, \"ngIf\"], [3, \"todo\", \"completed\", \"edit\", \"delete\"], [1, \"modal-body\", 3, \"ngSubmit\"], [\"id\", \"editTodo\", \"type\", \"text\", \"required\", \"required\", 1, \"cstm_form-control\", \"form-control\", \"bg-transparent\", 3, \"defaultValue\", \"ngModel\", \"ngModelChange\"], [\"htmlFor\", \"newTodo\"], [1, \"modal-footer\"], [\"id\", \"closeEditModalBtn\", \"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editModal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editModal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"list-group\", \"list-group-flush\", \"mb-1\"], [1, \"cstm_todo-item\", \"list-group-item\", \"list-group-item-action\", \"p-0\"], [1, \"row\"], [1, \"col\", \"d-flex\", \"align-items-center\", \"fs-5\", \"text-muted\", \"w-100\", \"ms-3\", \"p-3\"]],\n  template: function TodosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"h1\", 1);\n      i0.ɵɵtext(3, \"Your Todos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"p\", 2);\n      i0.ɵɵtext(5, \"Create and manage your todos.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 3)(7, \"form\", 4, 5);\n      i0.ɵɵlistener(\"ngSubmit\", function TodosComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.create(ctx.newTodo);\n      });\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function TodosComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.newTodo.title = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"label\", 8);\n      i0.ɵɵtext(12, \"What needs doing?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 9);\n      i0.ɵɵtext(14, \"Create\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementContainerStart(15, 10);\n      i0.ɵɵtemplate(16, TodosComponent_ng_template_16_Template, 20, 4, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(18, TodosComponent_ng_template_18_Template, 5, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(20, \"app-footer\");\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(17);\n\n      const _r3 = i0.ɵɵreference(19);\n\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.newTodo.title);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.todos.length > 0 ? _r1 : _r3);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"sources":["/Users/david.adams/Checkouts/angular-sample-standalone/src/app/views/todos/todos.component.ts"],"names":["i0","i1","TodosComponent_ng_template_16_app_todo_1_Template","rf","ctx","_r11","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","TodosComponent_ng_template_16_app_todo_1_Template_app_todo_completed_0_listener","restoredCtx","ɵɵrestoreView","todo_r9","$implicit","ctx_r10","ɵɵnextContext","complete","TodosComponent_ng_template_16_app_todo_1_Template_app_todo_edit_0_listener","ctx_r12","setEditTodo","TodosComponent_ng_template_16_app_todo_1_Template_app_todo_delete_0_listener","ctx_r13","setDeleteTodo","ɵɵelementEnd","ɵɵproperty","TodosComponent_ng_template_16_form_8_Template","_r15","TodosComponent_ng_template_16_form_8_Template_form_ngSubmit_0_listener","ctx_r14","update","editTodo","TodosComponent_ng_template_16_form_8_Template_input_ngModelChange_2_listener","$event","ctx_r16","title","ɵɵtext","ctx_r6","ɵɵadvance","TodosComponent_ng_template_16_div_9_Template","_r18","TodosComponent_ng_template_16_div_9_Template_button_click_3_listener","ctx_r17","TodosComponent_ng_template_16_button_19_Template","_r20","TodosComponent_ng_template_16_button_19_Template_button_click_0_listener","ctx_r19","delete","deleteTodo","TodosComponent_ng_template_16_Template","ɵɵtemplate","ctx_r2","todos","TodosComponent_ng_template_18_Template","TodosComponent","constructor","todoService","newTodo","_id","completed","ngOnInit","getTodos","todo","resetTodos","undefined","json","err","console","log","create","createTodo","completeTodo","updateTodo","ɵfac","TodosComponent_Factory","t","ɵɵdirectiveInject","TodoService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","TodosComponent_Template","ɵɵelement","TodosComponent_Template_form_ngSubmit_7_listener","TodosComponent_Template_input_ngModelChange_10_listener","ɵɵelementContainerStart","ɵɵtemplateRefExtractor","ɵɵelementContainerEnd","_r1","ɵɵreference","_r3","length","encapsulation"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/todo.service\";\nfunction TodosComponent_ng_template_16_app_todo_1_Template(rf, ctx) { if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"app-todo\", 27);\n    i0.ɵɵlistener(\"completed\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_completed_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const todo_r9 = restoredCtx.$implicit; const ctx_r10 = i0.ɵɵnextContext(2); return ctx_r10.complete(todo_r9); })(\"edit\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_edit_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const todo_r9 = restoredCtx.$implicit; const ctx_r12 = i0.ɵɵnextContext(2); return ctx_r12.setEditTodo(todo_r9); })(\"delete\", function TodosComponent_ng_template_16_app_todo_1_Template_app_todo_delete_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r11); const todo_r9 = restoredCtx.$implicit; const ctx_r13 = i0.ɵɵnextContext(2); return ctx_r13.setDeleteTodo(todo_r9); });\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const todo_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"todo\", todo_r9);\n} }\nfunction TodosComponent_ng_template_16_form_8_Template(rf, ctx) { if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 28);\n    i0.ɵɵlistener(\"ngSubmit\", function TodosComponent_ng_template_16_form_8_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r15); const ctx_r14 = i0.ɵɵnextContext(2); return ctx_r14.update(ctx_r14.editTodo); });\n    i0.ɵɵelementStart(1, \"div\", 6)(2, \"input\", 29);\n    i0.ɵɵlistener(\"ngModelChange\", function TodosComponent_ng_template_16_form_8_Template_input_ngModelChange_2_listener($event) { i0.ɵɵrestoreView(_r15); const ctx_r16 = i0.ɵɵnextContext(2); return ctx_r16.editTodo.title = $event; });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"label\", 30);\n    i0.ɵɵtext(4, \"Update todo text\");\n    i0.ɵɵelementEnd()()();\n} if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"defaultValue\", ctx_r6.editTodo.title)(\"ngModel\", ctx_r6.editTodo.title);\n} }\nfunction TodosComponent_ng_template_16_div_9_Template(rf, ctx) { if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 31)(1, \"button\", 32);\n    i0.ɵɵtext(2, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 33);\n    i0.ɵɵlistener(\"click\", function TodosComponent_ng_template_16_div_9_Template_button_click_3_listener() { i0.ɵɵrestoreView(_r18); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.update(ctx_r17.editTodo); });\n    i0.ɵɵtext(4, \" Update Todo \");\n    i0.ɵɵelementEnd()();\n} }\nfunction TodosComponent_ng_template_16_button_19_Template(rf, ctx) { if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function TodosComponent_ng_template_16_button_19_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r20); const ctx_r19 = i0.ɵɵnextContext(2); return ctx_r19.delete(ctx_r19.deleteTodo); });\n    i0.ɵɵtext(1, \" Delete Todo \");\n    i0.ɵɵelementEnd();\n} }\nfunction TodosComponent_ng_template_16_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 13);\n    i0.ɵɵtemplate(1, TodosComponent_ng_template_16_app_todo_1_Template, 1, 1, \"app-todo\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"div\", 15)(3, \"div\", 16)(4, \"div\", 17)(5, \"div\", 18)(6, \"h4\", 19);\n    i0.ɵɵtext(7, \"Edit Todo\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(8, TodosComponent_ng_template_16_form_8_Template, 5, 2, \"form\", 20);\n    i0.ɵɵtemplate(9, TodosComponent_ng_template_16_div_9_Template, 5, 0, \"div\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"div\", 22)(11, \"div\", 16)(12, \"div\", 17)(13, \"div\", 23)(14, \"p\");\n    i0.ɵɵtext(15, \"Are you sure you want to delete this todo?\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 24)(17, \"button\", 25);\n    i0.ɵɵtext(18, \" Close \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, TodosComponent_ng_template_16_button_19_Template, 2, 0, \"button\", 26);\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.todos);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editTodo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.editTodo);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.deleteTodo);\n} }\nfunction TodosComponent_ng_template_18_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 35)(1, \"li\", 36)(2, \"div\", 37)(3, \"p\", 38);\n    i0.ɵɵtext(4, \" No todos yet. Create one above! \");\n    i0.ɵɵelementEnd()()()();\n} }\n/**\n * Used to display a page to list Todos and allow the user to interact with them\n */\nexport class TodosComponent {\n    /**\n     * Initialise with the shared Todo service\n     * @param todoService - The shared Todo service\n     */\n    constructor(todoService) {\n        this.todoService = todoService;\n        /**\n         * The existing Todos\n         */\n        this.todos = [];\n        /**\n         * A new, empty Todo to be filled in by the user and submitted\n         */\n        this.newTodo = { _id: '', title: '', completed: false };\n    }\n    /**\n     * Retrieve Todos on load\n     */\n    ngOnInit() {\n        this.getTodos();\n    }\n    /**\n     * Marks a given Todo to be edited using a modal\n     * @param todo - The Todo to be edited\n     */\n    setEditTodo(todo) {\n        this.editTodo = todo;\n    }\n    /**\n     * Marks a given Todo to be confirmed for deletion using a modal\n     * @param todo - The Todo to be deleted\n     */\n    setDeleteTodo(todo) {\n        this.deleteTodo = todo;\n    }\n    /**\n     * Reset all Todos and edits/deletes on the page\n     */\n    resetTodos() {\n        this.editTodo = undefined;\n        this.deleteTodo = undefined;\n        this.newTodo = { _id: '', title: '', completed: false };\n        this.getTodos();\n    }\n    /**\n     * Retrieve Todos\n     */\n    async getTodos() {\n        try {\n            const todos = await this.todoService.getTodos();\n            const json = await todos.json();\n            this.todos = json;\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n    /**\n     * Submit a Todo to be created on the backend\n     * @param todo - The Todo to be submitted for creation\n     */\n    async create(todo) {\n        try {\n            await this.todoService.createTodo(todo);\n            this.resetTodos();\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n    /**\n     * Submit a Todo to be marked as complete on the backend\n     * @param todo - The Todo to be submitted as complete\n     */\n    async complete(todo) {\n        try {\n            await this.todoService.completeTodo(todo);\n            this.resetTodos();\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n    /**\n     * Submit a Todo to be updated\n     * @param todo - The updated Todo to be submitted\n     */\n    async update(todo) {\n        try {\n            await this.todoService.updateTodo(todo);\n            this.resetTodos();\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n    /**\n     * Submit a Todo to be deleted on the backend\n     * @param todo - The Todo to be submitted for deletion\n     */\n    async delete(todo) {\n        try {\n            await this.todoService.deleteTodo(todo);\n            this.resetTodos();\n        }\n        catch (err) {\n            console.log(err);\n        }\n    }\n}\nTodosComponent.ɵfac = function TodosComponent_Factory(t) { return new (t || TodosComponent)(i0.ɵɵdirectiveInject(i1.TodoService)); };\nTodosComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: TodosComponent, selectors: [[\"app-todos\"]], decls: 21, vars: 2, consts: [[1, \"cstm_container\", \"container-fluid\"], [1, \"mt-5\"], [1, \"fs-6\", \"text-muted\"], [1, \"card\", \"shadow-sm\", \"mb-5\"], [\"ngNativeValidate\", \"\", 1, \"p-3\", \"d-flex\", 3, \"ngSubmit\"], [\"newTodoForm\", \"ngForm\"], [1, \"cstm_todos-input\", \"cstm_form-floating\", \"form-floating\", \"flex-grow-1\"], [\"id\", \"newTodo\", \"type\", \"text\", \"placeholder\", \"What needs doing?\", \"required\", \"\", \"name\", \"title\", 1, \"cstm_form-control\", \"form-control\", \"bg-transparent\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"newTodo\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"ms-2\"], [3, \"ngTemplateOutlet\"], [\"todolist\", \"\"], [\"empty\", \"\"], [1, \"list-group\", \"list-group-flush\"], [3, \"todo\", \"completed\", \"edit\", \"delete\", 4, \"ngFor\", \"ngForOf\"], [\"data-bs-backdrop\", \"static\", \"id\", \"editModal\", \"tabIndex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"class\", \"modal-body\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"modal-footer\", 4, \"ngIf\"], [\"data-bs-backdrop\", \"static\", \"id\", \"deleteModal\", \"tabIndex\", \"-1\", \"aria-modal\", \"true\", \"role\", \"dialog\", 1, \"modal\", \"fade\"], [1, \"modal-body\", \"pt-4\", \"px-4\"], [1, \"modal-footer\", \"p-3\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", \"class\", \"btn btn-danger\", 3, \"click\", 4, \"ngIf\"], [3, \"todo\", \"completed\", \"edit\", \"delete\"], [1, \"modal-body\", 3, \"ngSubmit\"], [\"id\", \"editTodo\", \"type\", \"text\", \"required\", \"required\", 1, \"cstm_form-control\", \"form-control\", \"bg-transparent\", 3, \"defaultValue\", \"ngModel\", \"ngModelChange\"], [\"htmlFor\", \"newTodo\"], [1, \"modal-footer\"], [\"id\", \"closeEditModalBtn\", \"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editModal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#editModal\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#deleteModal\", 1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"list-group\", \"list-group-flush\", \"mb-1\"], [1, \"cstm_todo-item\", \"list-group-item\", \"list-group-item-action\", \"p-0\"], [1, \"row\"], [1, \"col\", \"d-flex\", \"align-items-center\", \"fs-5\", \"text-muted\", \"w-100\", \"ms-3\", \"p-3\"]], template: function TodosComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"h1\", 1);\n        i0.ɵɵtext(3, \"Your Todos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"p\", 2);\n        i0.ɵɵtext(5, \"Create and manage your todos.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"form\", 4, 5);\n        i0.ɵɵlistener(\"ngSubmit\", function TodosComponent_Template_form_ngSubmit_7_listener() { return ctx.create(ctx.newTodo); });\n        i0.ɵɵelementStart(9, \"div\", 6)(10, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function TodosComponent_Template_input_ngModelChange_10_listener($event) { return ctx.newTodo.title = $event; });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"label\", 8);\n        i0.ɵɵtext(12, \"What needs doing?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(13, \"button\", 9);\n        i0.ɵɵtext(14, \"Create\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementContainerStart(15, 10);\n        i0.ɵɵtemplate(16, TodosComponent_ng_template_16_Template, 20, 4, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(18, TodosComponent_ng_template_18_Template, 5, 0, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(20, \"app-footer\");\n    } if (rf & 2) {\n        const _r1 = i0.ɵɵreference(17);\n        const _r3 = i0.ɵɵreference(19);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.newTodo.title);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.todos.length > 0 ? _r1 : _r3);\n    } }, encapsulation: 2 });\n"]},"metadata":{},"sourceType":"module"}