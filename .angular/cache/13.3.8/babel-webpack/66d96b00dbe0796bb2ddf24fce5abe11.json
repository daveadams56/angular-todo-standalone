{"ast":null,"code":"import _asyncToGenerator from \"/Users/david.adams/Checkouts/angular-sample-standalone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { TokenManager, UserManager } from '@forgerock/javascript-sdk';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../layout/header/header.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../icons/verified-icon/verified-icon.component\";\nimport * as i6 from \"../../layout/footer/footer.component\";\n\nfunction HomeComponent_div_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"p\", 10);\n    i0.ɵɵelement(2, \"app-verified-icon\", 11);\n    i0.ɵɵelementStart(3, \"span\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"a\", 13);\n    i0.ɵɵtext(6, \" Manage your todos here \");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Welcome back, \", ctx_r2.userService.info.name, \"! \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", \"/todos\");\n  }\n}\n\nfunction HomeComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomeComponent_div_2_div_1_Template, 7, 2, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.userService.info);\n  }\n}\n\nfunction HomeComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 6);\n    i0.ɵɵtext(2, \"Getting started\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \" To use this app, \");\n    i0.ɵɵelementStart(5, \"a\", 14);\n    i0.ɵɵtext(6, \"create an account now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"! Already have an account? \");\n    i0.ɵɵelementStart(8, \"a\", 14);\n    i0.ɵɵtext(9, \"Sign in\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" to get things done! \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"routerLink\", \"/register\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/login\");\n  }\n}\n/**\n * Used to show a home page with information about the application, and links to sign in or register or a personalised welcome\n */\n\n\nexport class HomeComponent {\n  constructor(userService, route) {\n    this.userService = userService;\n    this.route = route;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // Check for code and state params indicating this the app is returning from a centralized login flow\n      _this.checkForCentralizedLoginReturn(); // Check for goto param indicating this is a centralized login flow supported by this app\n\n\n      _this.checkForCentralizedLoginFlow();\n    })();\n  }\n\n  checkForCentralizedLoginReturn() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.route.queryParams.subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (params) {\n          if (params.code && params.state) {\n            yield TokenManager.getTokens({\n              query: {\n                code: params.code,\n                state: params.state // State from redirect URL\n\n              }\n            });\n\n            try {\n              // Assume user is likely authenticated if there are tokens\n              const info = yield UserManager.getCurrentUser();\n              _this2.userService.isAuthenticated = true;\n              _this2.userService.info = info;\n            } catch (err) {\n              // User likely not authenticated\n              console.log(err);\n            }\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n  checkForCentralizedLoginFlow() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.route.queryParams.subscribe( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(function* (params) {\n          if (params.goto) {\n            _this3.userService.goto = params.goto;\n          }\n        });\n\n        return function (_x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  decls: 25,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [1, \"cstm_container\", \"container-fluid\"], [1, \"cstm_head-text\", \"text-center\"], [1, \"cstm_subhead-text\", \"fs-3\", \"mb-4\", \"fw-bold\", \"text-muted\"], [\"href\", \"https://angular.io/\", 1, \"text-muted\"], [\"href\", \"https://github.com/ForgeRock/forgerock-javascript-sdk\", 1, \"text-muted\"], [1, \"fs-4\", \"fw-normal\", \"pt-3\", \"pb-1\"], [\"href\", \"https://github.com/ForgeRock/forgerock-javascript-sdk/tree/master/samples/angular-todo\"], [\"href\", \"https://sdks.forgerock.com/\"], [\"class\", \"cstm_container container-fluid\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"d-flex\", \"align-items-center\", \"mt-5\"], [\"size\", \"36px\"], [1, \"ps-2\"], [1, \"cstm_verified-alert-link\", 3, \"routerLink\"], [3, \"routerLink\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header\");\n      i0.ɵɵelementStart(1, \"div\");\n      i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 2, 1, \"div\", 0);\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"h1\", 2);\n      i0.ɵɵtext(5, \"Protect with ForgeRock; Develop with Angular\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"p\", 3);\n      i0.ɵɵtext(7, \" Learn how to develop ForgeRock protected, web apps with the \");\n      i0.ɵɵelementStart(8, \"a\", 4);\n      i0.ɵɵtext(9, \" Angular \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \" framework and our \");\n      i0.ɵɵelementStart(11, \"a\", 5);\n      i0.ɵɵtext(12, \" JavaScript SDK \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \" . \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"h2\", 6);\n      i0.ɵɵtext(15, \"About this project\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"p\");\n      i0.ɵɵtext(17, \" The purpose of this sample web app is to demonstrate how the ForgeRock JavaScript SDK is implemented within a fully-functional application using a popular framework. The source code for \");\n      i0.ɵɵelementStart(18, \"a\", 7);\n      i0.ɵɵtext(19, \" this project can be found on Github \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \" and run locally for experimentation. For more on our SDKs, \");\n      i0.ɵɵelementStart(21, \"a\", 8);\n      i0.ɵɵtext(22, \" you can find our official SDK documentation here. \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(23, HomeComponent_div_23_Template, 11, 2, \"div\", 0);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(24, \"app-footer\");\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.userService.info);\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngIf\", !ctx.userService.info);\n    }\n  },\n  directives: [i3.HeaderComponent, i4.NgIf, i5.VerifiedIconComponent, i2.RouterLinkWithHref, i6.FooterComponent],\n  encapsulation: 2\n});","map":{"version":3,"sources":["/Users/david.adams/Checkouts/angular-sample-standalone/src/app/views/home/home.component.ts"],"names":["TokenManager","UserManager","i0","i1","i2","i3","i4","i5","i6","HomeComponent_div_2_div_1_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ctx_r2","ɵɵnextContext","ɵɵadvance","ɵɵtextInterpolate1","userService","info","name","ɵɵproperty","HomeComponent_div_2_Template","ɵɵtemplate","ctx_r0","HomeComponent_div_23_Template","HomeComponent","constructor","route","ngOnInit","checkForCentralizedLoginReturn","checkForCentralizedLoginFlow","queryParams","subscribe","params","code","state","getTokens","query","getCurrentUser","isAuthenticated","err","console","log","goto","ɵfac","HomeComponent_Factory","t","ɵɵdirectiveInject","UserService","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","HomeComponent_Template","directives","HeaderComponent","NgIf","VerifiedIconComponent","RouterLinkWithHref","FooterComponent","encapsulation"],"mappings":"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","sourcesContent":["import { TokenManager, UserManager } from '@forgerock/javascript-sdk';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../layout/header/header.component\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../icons/verified-icon/verified-icon.component\";\nimport * as i6 from \"../../layout/footer/footer.component\";\nfunction HomeComponent_div_2_div_1_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"p\", 10);\n    i0.ɵɵelement(2, \"app-verified-icon\", 11);\n    i0.ɵɵelementStart(3, \"span\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementStart(5, \"a\", 13);\n    i0.ɵɵtext(6, \" Manage your todos here \");\n    i0.ɵɵelementEnd()()()();\n} if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Welcome back, \", ctx_r2.userService.info.name, \"! \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", \"/todos\");\n} }\nfunction HomeComponent_div_2_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, HomeComponent_div_2_div_1_Template, 7, 2, \"div\", 9);\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.userService.info);\n} }\nfunction HomeComponent_div_23_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 6);\n    i0.ɵɵtext(2, \"Getting started\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4, \" To use this app, \");\n    i0.ɵɵelementStart(5, \"a\", 14);\n    i0.ɵɵtext(6, \"create an account now\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"! Already have an account? \");\n    i0.ɵɵelementStart(8, \"a\", 14);\n    i0.ɵɵtext(9, \"Sign in\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" to get things done! \");\n    i0.ɵɵelementEnd()();\n} if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"routerLink\", \"/register\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", \"/login\");\n} }\n/**\n * Used to show a home page with information about the application, and links to sign in or register or a personalised welcome\n */\nexport class HomeComponent {\n    constructor(userService, route) {\n        this.userService = userService;\n        this.route = route;\n    }\n    async ngOnInit() {\n        // Check for code and state params indicating this the app is returning from a centralized login flow\n        this.checkForCentralizedLoginReturn();\n        // Check for goto param indicating this is a centralized login flow supported by this app\n        this.checkForCentralizedLoginFlow();\n    }\n    async checkForCentralizedLoginReturn() {\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.code && params.state) {\n                await TokenManager.getTokens({\n                    query: {\n                        code: params.code,\n                        state: params.state, // State from redirect URL\n                    },\n                });\n                try {\n                    // Assume user is likely authenticated if there are tokens\n                    const info = await UserManager.getCurrentUser();\n                    this.userService.isAuthenticated = true;\n                    this.userService.info = info;\n                }\n                catch (err) {\n                    // User likely not authenticated\n                    console.log(err);\n                }\n            }\n        });\n    }\n    async checkForCentralizedLoginFlow() {\n        this.route.queryParams.subscribe(async (params) => {\n            if (params.goto) {\n                this.userService.goto = params.goto;\n            }\n        });\n    }\n}\nHomeComponent.ɵfac = function HomeComponent_Factory(t) { return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\nHomeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: HomeComponent, selectors: [[\"app-home\"]], decls: 25, vars: 2, consts: [[4, \"ngIf\"], [1, \"cstm_container\", \"container-fluid\"], [1, \"cstm_head-text\", \"text-center\"], [1, \"cstm_subhead-text\", \"fs-3\", \"mb-4\", \"fw-bold\", \"text-muted\"], [\"href\", \"https://angular.io/\", 1, \"text-muted\"], [\"href\", \"https://github.com/ForgeRock/forgerock-javascript-sdk\", 1, \"text-muted\"], [1, \"fs-4\", \"fw-normal\", \"pt-3\", \"pb-1\"], [\"href\", \"https://github.com/ForgeRock/forgerock-javascript-sdk/tree/master/samples/angular-todo\"], [\"href\", \"https://sdks.forgerock.com/\"], [\"class\", \"cstm_container container-fluid\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"d-flex\", \"align-items-center\", \"mt-5\"], [\"size\", \"36px\"], [1, \"ps-2\"], [1, \"cstm_verified-alert-link\", 3, \"routerLink\"], [3, \"routerLink\"]], template: function HomeComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelement(0, \"app-header\");\n        i0.ɵɵelementStart(1, \"div\");\n        i0.ɵɵtemplate(2, HomeComponent_div_2_Template, 2, 1, \"div\", 0);\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"h1\", 2);\n        i0.ɵɵtext(5, \"Protect with ForgeRock; Develop with Angular\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"p\", 3);\n        i0.ɵɵtext(7, \" Learn how to develop ForgeRock protected, web apps with the \");\n        i0.ɵɵelementStart(8, \"a\", 4);\n        i0.ɵɵtext(9, \" Angular \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \" framework and our \");\n        i0.ɵɵelementStart(11, \"a\", 5);\n        i0.ɵɵtext(12, \" JavaScript SDK \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \" . \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"h2\", 6);\n        i0.ɵɵtext(15, \"About this project\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\");\n        i0.ɵɵtext(17, \" The purpose of this sample web app is to demonstrate how the ForgeRock JavaScript SDK is implemented within a fully-functional application using a popular framework. The source code for \");\n        i0.ɵɵelementStart(18, \"a\", 7);\n        i0.ɵɵtext(19, \" this project can be found on Github \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(20, \" and run locally for experimentation. For more on our SDKs, \");\n        i0.ɵɵelementStart(21, \"a\", 8);\n        i0.ɵɵtext(22, \" you can find our official SDK documentation here. \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(23, HomeComponent_div_23_Template, 11, 2, \"div\", 0);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(24, \"app-footer\");\n    } if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.userService.info);\n        i0.ɵɵadvance(21);\n        i0.ɵɵproperty(\"ngIf\", !ctx.userService.info);\n    } }, directives: [i3.HeaderComponent, i4.NgIf, i5.VerifiedIconComponent, i2.RouterLinkWithHref, i6.FooterComponent], encapsulation: 2 });\n"]},"metadata":{},"sourceType":"module"}